p8105_hw3_jc6422
================
Jianing Chen
2024-10-09

## Problem 1

load the data from packages

``` r
library(p8105.datasets)
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.4     ✔ readr     2.1.5
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.1
    ## ✔ ggplot2   3.5.1     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.3     ✔ tidyr     1.3.1
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(ggplot2)
data("ny_noaa")
```

data cleaning

``` r
ny_noaa_df = ny_noaa |>
  mutate(
    date = as.Date(date),
    year = year(date),
    month = month(date),
    day = day(date),
    tmax = as.numeric(tmax) / 10,  
    tmin = as.numeric(tmin) / 10,  
    prcp = as.numeric(prcp) / 10,
    snow = snow
  ) %>%
  filter(!is.na(tmax) & !is.na(tmin) & !is.na(snow) & !is.na(prcp)) 

ny_noaa_df
```

    ## # A tibble: 1,274,995 × 10
    ##    id          date        prcp  snow  snwd  tmax  tmin  year month   day
    ##    <chr>       <date>     <dbl> <int> <int> <dbl> <dbl> <dbl> <dbl> <int>
    ##  1 USC00300023 1981-01-03   0       0     0 -12.2 -20.6  1981     1     3
    ##  2 USC00300023 1981-01-05   0       0     0  -5.6 -17.8  1981     1     5
    ##  3 USC00300023 1981-01-12   0       0     0 -12.2 -30.6  1981     1    12
    ##  4 USC00300023 1981-01-13   0       0     0  -6.7 -28.9  1981     1    13
    ##  5 USC00300023 1981-01-15   0       0     0  -5   -10.6  1981     1    15
    ##  6 USC00300023 1981-01-17   0       0     0  -1.1 -15    1981     1    17
    ##  7 USC00300023 1981-01-20   0       0     0   6.1  -6.7  1981     1    20
    ##  8 USC00300023 1981-01-21   0       0     0   1.7 -10.6  1981     1    21
    ##  9 USC00300023 1981-01-22   0       0     0   0.6  -5    1981     1    22
    ## 10 USC00300023 1981-01-23  11.7   127    76   2.2  -4.4  1981     1    23
    ## # ℹ 1,274,985 more rows

Make a two-panel plot

``` r
january = ny_noaa_df %>% 
  filter(month == 1)

july = ny_noaa_df %>% 
  filter(month == 7)

jan_avg_tmax = january %>% 
  group_by(id, year) %>% 
  summarize(avg_tmax = mean(tmax, na.rm = TRUE))%>%
  mutate(month="January")
```

    ## `summarise()` has grouped output by 'id'. You can override using the `.groups`
    ## argument.

``` r
jul_avg_tmax = july %>% 
  group_by(id, year) %>% 
  summarize(avg_tmax = mean(tmax, na.rm = TRUE))%>%
  mutate(month="July")
```

    ## `summarise()` has grouped output by 'id'. You can override using the `.groups`
    ## argument.

``` r
combined_data = bind_rows(jan_avg_tmax, jul_avg_tmax)

ggplot(combined_data, aes(x = as.numeric(year),y=avg_tmax)) +
  geom_point(aes( color = month)) +
  labs(title = "Average Max Temperature in January and July", 
       x = "Year", 
       y = "Average Max Temperature") +
  facet_grid(month~.) +
  scale_color_manual(values = c("January" = "blue", "July" = "red")) +
  theme_minimal()
```

![](p8105_hw3_jc6422_files/figure-gfm/unnamed-chunk-3-1.png)<!-- -->

Observations:

The blue plot represents the distribution of average maximum
temperatures in January. This structure suggests relatively stable
temperatures with some fluctuation over time.

The red plot represents the distribution of average maximum temperatures
in July. This structure is also relatively stable. There is an outlier
in 1988.
