---
title: "p8105_hw3_jc6422"
author: "Jianing Chen"
date: "2024-10-09"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Problem 1

load the data from packages

```{r}
library(p8105.datasets)
library(tidyverse)
library(ggplot2)
data("ny_noaa")
```

data cleaning

```{r}
ny_noaa_df = ny_noaa |>
  mutate(
    date = as.Date(date),
    year = year(date),
    month = month(date),
    day = day(date),
    tmax = as.numeric(tmax) / 10,  
    tmin = as.numeric(tmin) / 10,  
    prcp = as.numeric(prcp) / 10,
    snow = snow
  ) %>%
  filter(!is.na(tmax) & !is.na(tmin) & !is.na(snow) & !is.na(prcp)) 

ny_noaa_df
```

Make a two-panel plot

```{r}
january = ny_noaa_df %>% 
  filter(month == 1)

july = ny_noaa_df %>% 
  filter(month == 7)

jan_avg_tmax = january %>% 
  group_by(id, year) %>% 
  summarize(avg_tmax = mean(tmax, na.rm = TRUE))%>%
  mutate(month="January")

jul_avg_tmax = july %>% 
  group_by(id, year) %>% 
  summarize(avg_tmax = mean(tmax, na.rm = TRUE))%>%
  mutate(month="July")

combined_data = bind_rows(jan_avg_tmax, jul_avg_tmax)

ggplot(combined_data, aes(x = as.numeric(year),y=avg_tmax)) +
  geom_point(aes( color = month)) +
  labs(title = "Average Max Temperature in January and July", 
       x = "Year", 
       y = "Average Max Temperature") +
  facet_grid(month~.) +
  scale_color_manual(values = c("January" = "blue", "July" = "red")) +
  theme_minimal()

```

Observations:

The blue plot represents the distribution of average maximum temperatures in January.
This structure suggests relatively stable temperatures with some fluctuation over time.

The red plot represents the distribution of average maximum temperatures in July. This structure is also relatively stable. There is an outlier in 1988.



